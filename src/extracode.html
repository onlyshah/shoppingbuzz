// export class SessionService {
    //   private sessionExpiry: number = 0; 
    //   private sessionTimeout: any;
    //   private idleTimeout: any;
    //   private idleDuration: number = 5 * 60 * 1000; // 5 minutes of inactivity
    
    //   constructor(private router: Router) {
    //     this.resetSession();  // Check if there's an existing session on service initialization
    //     this.initializeIdleDetection(); // Initialize idle detection
    //   }
    
    //   startSession(duration: number) {
    //     this.sessionExpiry = Date.now() + duration;
    //     this.sessionTimeout = setTimeout(() => this.endSession(), duration);
        
    //     let userData = localStorage.getItem('userData');
    
    //     if (userData !== null) {
    //       const parsedData = JSON.parse(userData);
    //       if (typeof parsedData === 'object' && parsedData !== null) {
    //         parsedData.sessionExpiry = this.sessionExpiry;  // Add sessionExpiry to the parsed data
    //         this.saveSession(parsedData);  // Save the session expiry in local storage
    //       }
    //     }
    //   }
    
    //   resetSession() {
    //     const storedData = localStorage.getItem('userData');
    
    //     if (storedData) {
    //       const parsedData = JSON.parse(storedData);
    //       this.sessionExpiry = parsedData.sessionExpiry || 0;
    
    //       if (this.sessionExpiry > Date.now()) {
    //         const remainingTime = this.sessionExpiry - Date.now();
    //         this.sessionTimeout = setTimeout(() => this.endSession(), remainingTime);
    //       } else {
    //         this.endSession();  // End session if expired
    //       }
    //     }
    //   }
    
    //   endSession() {
    //     clearTimeout(this.sessionTimeout);
    //     clearTimeout(this.idleTimeout);
    //     this.sessionExpiry = 0;
    //     localStorage.removeItem('userData');  // Clear user data as well
    //     this.router.navigate(['/login']);  // Redirect to login
    //   }
    
    //   isSessionActive(): boolean {
    //     return this.sessionExpiry > Date.now();
    //   }
    
    //   saveSession(userData: any) {
    //     userData.sessionExpiry = this.sessionExpiry;
    //     localStorage.setItem('userData', JSON.stringify(userData));
    //   }
    
    //   private initializeIdleDetection() {
    //     const events = ['mousemove', 'keydown', 'scroll', 'click'];
    //     events.forEach(event => window.addEventListener(event, this.resetIdleTimer.bind(this)));
    
    //     this.idleTimeout = setTimeout(() => this.endSession(), this.idleDuration);
    //   }
    
    //   private resetIdleTimer() {
    //     clearTimeout(this.idleTimeout);
    //     this.idleTimeout = setTimeout(() => this.endSession(), this.idleDuration);
    //   }
    // }
    isInWishlist  =  false;
    isInCart  = false;
    
    this.checkWishlist(data);
    this.checkCart(data);
    this.isInWishlist
    this.isInCart

    checkCart(data:any){
        this.comApi.checkcart(data).pipe(first())
        .subscribe({
          next: (res: any) => {
            this.isInCart = res.success
            //console.log('checkcart',this.isInCart)
           
          },
        });
      
      }
      checkWishlist(data:any){
        this.comApi.checkWhislist(data).pipe(first())
        .subscribe({
          next: (res: any) => {
            this.isInWishlist = res.success
            console.log('checkwishlist',this.isInWishlist)
           
           
          },
        });
      }
      <div class="product-action-btn">
        <!-- <a href="#!" class="btn-action mb-1" data-bs-toggle="modal"
data-bs-target="#quickViewModal"><i class="bi bi-eye"></i></a> -->
        <!-- <a (click)="Wishlist(data._id ,this.isInWishlist)" class="btn-action mb-1"
           [ngClass]="{'wishlist-active': isInWishlist, 'wishlist-inactive': !isInWishlist}"
           data-bs-toggle="tooltip" title="Wishlist">
           <i class="bi bi-heart"></i></a> -->
           <app-sh-button [item]="item"></app-sh-button>

        <!-- <a href="#!" class="btn-action" data-bs-toggle="tooltip"
data-bs-html="true" title="Compare"><i
class="bi bi-arrow-left-right"></i></a> -->
     </div>