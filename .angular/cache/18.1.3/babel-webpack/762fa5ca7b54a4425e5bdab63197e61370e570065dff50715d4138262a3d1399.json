{"ast":null,"code":"import { first } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/common.service\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"src/app/shared/shoppingcart/shoppingcart.component\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction MywishlistComponent_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 13)(2, \"div\", 9);\n    i0.ɵɵelement(3, \"input\", 14)(4, \"label\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"td\", 13)(6, \"a\", 16);\n    i0.ɵɵelement(7, \"img\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\", 13)(9, \"div\")(10, \"h5\", 18)(11, \"a\", 19);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"td\", 13);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 13)(16, \"span\", 20);\n    i0.ɵɵtext(17, \"In Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"td\", 13)(19, \"a\", 21);\n    i0.ɵɵlistener(\"click\", function MywishlistComponent_tr_30_Template_a_click_19_listener() {\n      const data_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addtocart(data_r2.productId._id));\n    });\n    i0.ɵɵtext(20, \"Add to Cart\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"td\", 13)(22, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function MywishlistComponent_tr_30_Template_a_click_22_listener() {\n      const data_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteWishlist(data_r2.productId._id));\n    });\n    i0.ɵɵelement(23, \"i\", 23);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"src\", ctx_r2.imagePath + (data_r2.productId == null ? null : data_r2.productId.productImage), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(data_r2.productId.productname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.productId.price);\n  }\n}\nexport let MywishlistComponent = /*#__PURE__*/(() => {\n  class MywishlistComponent {\n    constructor(comApi, auth, cart, router) {\n      this.comApi = comApi;\n      this.auth = auth;\n      this.cart = cart;\n      this.router = router;\n      this.userId = this.auth.userValue.userId;\n      this.imagePath = environment.baseUrl;\n    }\n    ngOnInit() {\n      console.log(this.userId);\n      this.comApi.getwishlist(this.userId).subscribe(res => {\n        this.wishlist = res.List;\n        console.log('wishlist', this.wishlist);\n      });\n    }\n    addtocart(productId) {\n      var value = {\n        \"userId\": this.userId,\n        \"products\": {\n          \"productId\": productId,\n          \"quantity\": 1\n        }\n      };\n      this.comApi.addtocart(value).subscribe(response => {\n        console.log(response);\n      });\n      this.deleteWishlist(productId);\n      //this.router.navigateByUrl('/cart')\n    }\n    deleteWishlist(productId) {\n      this.comApi.deleteWishlistprod(this.userId, productId).pipe(first()).subscribe({\n        next: res => {\n          console.log('deleted', res);\n        }\n      });\n    }\n    static #_ = this.ɵfac = function MywishlistComponent_Factory(ɵt) {\n      return new (ɵt || MywishlistComponent)(i0.ɵɵdirectiveInject(i1.CommonService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ShoppingcartComponent), i0.ɵɵdirectiveInject(i4.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MywishlistComponent,\n      selectors: [[\"app-mywishlist\"]],\n      decls: 31,\n      vars: 1,\n      consts: [[1, \"mt-8\", \"mb-14\"], [1, \"container\"], [1, \"row\"], [1, \"col-lg-12\"], [1, \"mb-8\"], [1, \"mb-1\"], [1, \"table-responsive\"], [1, \"table\", \"text-nowrap\", \"table-with-checkbox\"], [1, \"table-light\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"checkAll\", 1, \"form-check-input\"], [\"for\", \"checkAll\", 1, \"form-check-label\"], [4, \"ngFor\", \"ngForOf\"], [1, \"align-middle\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"chechboxSix\", 1, \"form-check-input\"], [\"for\", \"chechboxSix\", 1, \"form-check-label\"], [\"href\", \"#\"], [\"alt\", \"\", 1, \"icon-shape\", \"icon-xxl\", 3, \"src\"], [1, \"fs-6\", \"mb-0\"], [\"href\", \"#\", 1, \"text-inherit\"], [1, \"badge\", \"bg-success\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [\"data-bs-toggle\", \"tooltip\", \"data-bs-placement\", \"top\", \"aria-label\", \"Delete\", \"data-bs-original-title\", \"Delete\", 1, \"text-muted\", 3, \"click\"], [1, \"bi\", \"bi-trash\"]],\n      template: function MywishlistComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h1\", 5);\n          i0.ɵɵtext(6, \"My Wishlist\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\");\n          i0.ɵɵtext(8, \"There are 5 products in this wishlist.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\")(10, \"div\", 6)(11, \"table\", 7)(12, \"thead\", 8)(13, \"tr\")(14, \"th\")(15, \"div\", 9);\n          i0.ɵɵelement(16, \"input\", 10)(17, \"label\", 11);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(18, \"th\");\n          i0.ɵɵelementStart(19, \"th\");\n          i0.ɵɵtext(20, \"Product\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"th\");\n          i0.ɵɵtext(22, \"Amount\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"th\");\n          i0.ɵɵtext(24, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"th\");\n          i0.ɵɵtext(26, \"Actions\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"th\");\n          i0.ɵɵtext(28, \"Remove\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(29, \"tbody\");\n          i0.ɵɵtemplate(30, MywishlistComponent_tr_30_Template, 24, 3, \"tr\", 12);\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(30);\n          i0.ɵɵproperty(\"ngForOf\", ctx.wishlist);\n        }\n      },\n      dependencies: [i5.NgForOf]\n    });\n  }\n  return MywishlistComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}