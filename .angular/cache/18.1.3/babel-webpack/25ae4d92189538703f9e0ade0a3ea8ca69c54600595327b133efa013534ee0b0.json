{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let SessionService = /*#__PURE__*/(() => {\n  class SessionService {\n    constructor() {\n      this.sessionExpiry = JSON.parse(sessionStorage.getItem('user'));\n      this.resetSession();\n    }\n    startSession(duration) {\n      this.sessionExpiry = Date.now() + duration;\n      this.sessionTimeout = setTimeout(() => this.endSession(), duration);\n    }\n    resetSession() {\n      const storedExpiry = sessionStorage.getItem(this.sessionExpiry);\n      if (storedExpiry) {\n        this.sessionExpiry = parseInt(storedExpiry, 10);\n        if (this.sessionExpiry > Date.now()) {\n          const remainingTime = this.sessionExpiry - Date.now();\n          this.sessionTimeout = setTimeout(() => this.endSession(), remainingTime);\n        } else {\n          this.endSession();\n        }\n      } else {\n        this.sessionExpiry = 0;\n      }\n    }\n    endSession() {\n      clearTimeout(this.sessionTimeout);\n      this.sessionExpiry = 0;\n      sessionStorage.removeItem('user');\n    }\n    isSessionActive() {\n      return this.sessionExpiry > Date.now();\n    }\n    saveSession() {\n      sessionStorage.setItem('user', this.sessionExpiry.toString());\n    }\n    static #_ = this.ɵfac = function SessionService_Factory(ɵt) {\n      return new (ɵt || SessionService)();\n    };\n    static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: SessionService,\n      factory: SessionService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return SessionService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}